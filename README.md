# Chapter 2 프로그래밍기초 개인과제


# 구현된 기능

- 필수 : 스탯 확인창

- 필수 : 인벤토리 + 장비창
  장비는 부위별로 1개만 착용할 수 있습니다.
  장비를 교체하면 착용 중이던 장비는 인벤토리로 돌아갑니다.
  인벤토리가 가득 차면 아이템을 구매하거나 얻을 수 없습니다.

- 필수 : 아이템 효과가 스탯에 적용
 무기장비는 공격력을, 몸장비는 방어력, 장신구는 최대 체력을 올려줍니다.
 어설프게 구현됐습니다. 캐릭터의 스탯종류가 추가되거나 하나의 장비가 여러 스탯에 영향을 줄 때 등등 유연하게 쓸 수 없습니다.
 장비를 장착했을 때 스탯이 얼만큼 올랐는지 표시됩니다 체력 : 133 (3)

- 상점
장비 상점만 존재합니다.
현재는 어떤 장비를 팔지 랜덤이며 품절 상품의 재고가 추가되지 않습니다.
Wallet()메서드를 통해 소지금이 충분할 때만 착용 중이던 구매할 수 있습니다.
고물상에서 인벤토리 아이템을 팔수 있습니다. 판매한 물건가치의 반값을 돌려받습니다.  

- 대량의 아이템을 관리하기 위해 데이터는 csv파일로 관리합니다. 아이템 id를 키값으로 데이터 딕셔너리를 만들어 사용합니다.
폴더 경로 : bin\Debug\net6.0\ItemData.csv

- 물약처럼 중첩되는 아이템은 중첩됩니다.
  인벤토리를 InventorySlot[]로 만들어 Item으로 아이템정보를, count로 소지개수를 설정합니다.

- 세이브 파일이 없다면 메인화면에 [ 불러오기 ] 버튼이 뜨지 않습니다.

- [ 처음부터 ]를 고르면 10자 이내로 캐릭터 이름을 입력받고 캐릭터를 생성합니다.
 새 캐릭터는 장비칸과 인벤토리가 비어있으며 능력치는 필수요구사항과 같습니다.
  [ 불러오기 ]를 하면 저장된 캐릭터 정보로 시작합니다.

- [ 여관 ]에서 현재 진행 상황을 저장할 수 있습니다. (지금은 이름만 저장됩니다.)
  세이브파일 위치 : 게임폴더\bin\Debug\net6.0\save.csv

- [ 식당 ]에서 돈을 주고 hp와 mp를 전부 회복할 수 있습니다.
  돈이 부족하면 식사를 할 수 없습니다.
 


--------

# 만들면서 힘들었던 것, 고민된 것

1. 게임 시작부터 함수 안에서 함수를 호출하고 그 함수 안에서 또 함수를 호출하고 무한히 함수 속으로 들어가는 건데 이게 맞는 것인지 모르겠습니다;;

2. 화면에 변화가 있을 때마다 화면 전체를 Console.WriteLine(＂＂);로 다시 그려야하는데요
shop 스크립트를 보시듯이 1번 템을 샀으면 1번 템의 글씨만 품절로 바꾸면 되는데 전부 다 그려야하니까 코드가 계속 중복됩니다.
저번주 숙제 발표영상을 보면 원하는 위치에 글씨를 띄우는 법이 있는 것 같아서 알게되면 수정할 예정입니다.

2. 클래스와 함수 배치가 가장 힘들었습니다.
대표적으로 [ 캐릭터가 아이템을 사용한다. ] 구현인데요.
아이템 사용을 구현하려면 Use() 메서드가 있어야 할 텐데 캐릭터에 Use()를 만들고 아이템 정보를 가져와 Use(아이템)을 사용할 건지,
아이템에 Use()를 만들고 캐릭터가 아이템.Use()를 쓰게 할 건지 이런 설계를 하는 게 굉장히 머리아팠습니다.
사용하는 대상이 캐릭터니까 캐릭터 안에 넣는 게 맞는 것 같지만 우선 Item클래스에 추상 Use()를 만들어봤는데
추상으로 만드니 소모품이 아닌 템에도 Use()를 구현해야 하니 찝찝해서
사용가능 템에게만 IConsumable을 붙여봤는데 인터페이스 안엔 변수를 만들 수 없어서 원하는대로 쓰기힘들어서 폐기됐고요.
같은 Use()메서드여도 매개변수가 다른 Use()가 필요할 때도 있었는데 use가 부모에게 있으니
Use(매개변수)가 필요없는 자식들에게도 메서드가 들어가니 지저분합니다.
매개변수는 같은데 반환값이 다른 Use가 필요할 땐 메서드 오버로딩도 안되니 골치 아픕니다.
또 지금 Use()는 인벤에 있는 템만 사용할 수 있게 짜여있어서 길가다 주운 템을 사용할 수도 없습니다. 용도가 너무 제한적이에요.
아무튼 이런저런 클래스와 함수 문제로 고생했고 고통받고 있습니다. o<-<

4. 이 아이템이 어떤 카테고리면서 어느 부위 장비인지, 체력회복템인지 마나회복템인지 세세하게 나눠지는데 이걸 어떻게 관리할지 골치아픕니다.
이거에 맞춰서 바뀌어야할 코드가 많은데 방법이 안떠오르네요.
